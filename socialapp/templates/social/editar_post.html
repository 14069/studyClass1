{% extends 'social/base.html' %}
{% load widget_tweaks %}

{% block content %}
<form method="post" enctype="multipart/form-data" class="form-post container">
    {% csrf_token %}
    <div class="row">
        <div class="col-6">
            <label for="autor">Autor:
                {% render_field form.autor_postagem type='text' required='required' name='autor' class='form-control' %}
            </label>

            <label for="dia">Data da Postagem:
                {% render_field form.data_postagem type='datetime-local' required='required' name='dia' class='form-control' %}
            </label>

            <label for="titulo">Título:
                {% render_field form.titulo_postagem type='text' required='required' name='titulo' class='form-control' %}
            </label>
        </div>

        <div class="col-6">
            <label for="conteudo">Conteúdo:
                {% render_field form.conteudo_postagem type='text' required='required' name='conteudo' class='form-control' %}
            </label>

            <label for="avalia">Avaliação:
                {% render_field form.id_avalia type='text' required='required' name='avalia' class='form-control' %}
            </label>
        </div>

        <div class="col-12 mt-3">
            <input type="submit" value="Salvar" class="btn btn-primary btn-submit">
        </div>
    </div>
</form>

<div class="posts-table-container mt-5 container">
    <h1>Editar Postagem</h1>
    <table class="table table-striped table-responsive">
        <thead>
            <tr>
                <th>Id</th>
                <th>Autor</th>
                <th>Data</th>
                <th>Título</th>
                <th>Conteúdo</th>
                <th>Editar</th>
                <th>Excluir</th>
            </tr>
        </thead>
        <tbody>
            {% for post in posts %}
            <tr>
                <td data-label="Id">{{ post.id_postagem }}</td>
                <td data-label="Autor">{{ post.autor_postagem }}</td>
                <td data-label="Data">{{ post.data_postagem }}</td>
                <td data-label="Título">{{ post.titulo_postagem }}</td>
                <td data-label="Conteúdo">{{ post.conteudo_postagem }}</td>
                <td data-label="Editar">
                    <a href="{% url 'editar_post' post.id_postagem %}">
                        <!-- Ícone SVG para editar -->
                        <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="rgb(255,150,20)" class="bi bi-arrow-right-circle-fill" viewBox="0 0 16 16">
                            <path d="M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0M4.5 7.5a.5.5 0 0 0 0 1h5.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L10.293 7.5z"/>
                        </svg>
                    </a>
                </td>
                <td data-label="Excluir">
                    <a href="{% url 'deleta_post' post.id_postagem %}">
                        <!-- Ícone SVG para excluir -->
                        <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="rgb(255,50,20)" class="bi bi-archive-fill" viewBox="0 0 16 16">
                            <path d="M12.643 15C13.979 15 15 13.845 15 12.5V5H1v7.5C1 13.845 2.021 15 3.357 15zM5.5 7h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1 0-1M.8 1a.8.8 0 0 0-.8.8V3a.8.8 0 0 0 .8.8h14.4A.8.8 0 0 0 16 3V1.8a.8.8 0 0 0-.8-.8z"/>
                        </svg>
                    </a>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

{% endblock content %}
