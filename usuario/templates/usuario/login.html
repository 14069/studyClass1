{% extends 'social/base.html' %}
{% load static %}
{% block content %}
<div class="login-container" style="max-width: 400px; margin: 2rem auto; padding: 2rem; background: #f9f9f9; border-radius: 8px; box-shadow: 0 0 10px rgba(0,0,0,0.1);">
    <h2 class="text-center mb-4">Login</h2>

    <form method="post" novalidate>
        {% csrf_token %}

        <div class="mb-3">
            <label for="id_username" class="form-label">Usuário</label>
            <input type="text" name="username" class="form-control" id="id_username" required>
        </div>

        <div class="mb-3 position-relative">
            <label for="id_password" class="form-label">Senha</label>
            <input type="password" name="password" class="form-control" id="id_password" required autocomplete="current-password">
            <span class="toggle-password" onclick="togglePassword()" 
                  style="position: absolute; top: 38px; right: 12px; cursor: pointer; user-select:none;">
                <i id="eye-icon" class="bi bi-eye"></i>
            </span>
        </div>

        <button type="submit" class="btn btn-primary w-100">Entrar</button>
    </form>
    <div class="text-center mt-3">
        <p class="small">
            Não tem uma conta?
            <a href="{% url 'new_usuario' %}" class="text-decoration-none fw-semibold">Crie agora</a>
        </p>
    </div>  
</div>

<script>
function togglePassword() {
    const passwordInput = document.getElementById("id_password");
    const eyeIcon = document.getElementById("eye-icon");
    if (passwordInput.type === "password") {
        passwordInput.type = "text";
        eyeIcon.classList.remove("bi-eye");
        eyeIcon.classList.add("bi-eye-slash");
    } else {
        passwordInput.type = "password";
        eyeIcon.classList.remove("bi-eye-slash");
        eyeIcon.classList.add("bi-eye");
    }
}
</script>
{% endblock content %}
